# @package _global_

defaults:
  - /callbacks@callbacks.model_checkpoint_single: model_checkpoint_ds
  - /callbacks@callbacks.model_checkpoint_loo: model_checkpoint_ds
  - override /paths: axov4
  - override /data: axov4
  - override /model: axov4
  - override /callbacks: default
  - override /trainer: gpu0
  - override /logger: mlflow

tags: ["vae", "axo_v4", "scan"]

seed: 123

trainer:
  min_epochs: 1
  max_epochs: 480

callbacks:
  model_checkpoint_single:
    _target_: src.callbacks.model_checkpoint.SingleDatasetModelCheckpoint
    metric_name: loss_kl_full_rate0.3
  model_checkpoint_loo:
    _target_: src.callbacks.model_checkpoint.LeaveOneOutModelCheckpoint
    metric_name: loss_kl_full_rate0.3

logger:
  mlflow:
    experiment_name: axov4_rates_kl_checkpoint
    # experiment_name: axov4_rates_cap_verify
    # run_name: test
    run_name: scan_lr${model.optimizer.lr}_alpha${model.loss.alpha}
